<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UIManager Test</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        .test-controls button {
            display: block;
            margin: 0.5rem 0;
            padding: 0.5rem 1rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .test-controls button:hover {
            background: #5a6fd8;
        }
    </style>
</head>
<body>
    <div class="test-controls">
        <h4>UIManager Tests</h4>
        <button onclick="testDisplayQuestion()">Test Display Question</button>
        <button onclick="testUpdateTimer()">Test Timer Update</button>
        <button onclick="testShowFeedback()">Test Feedback</button>
        <button onclick="testShowResults()">Test Results</button>
        <button onclick="testSectionSwitching()">Test Sections</button>
    </div>

    <div class="container">
        <header class="header">
            <h1>Alphabet â†” Number Quiz</h1>
            <div class="progress" id="progress">
                <span id="current-question">1</span> of <span id="total-questions">10</span>
            </div>
        </header>

        <main class="main-content">
            <section class="quiz-section" id="quiz-section">
                <div class="timer-container">
                    <div class="timer" id="timer">10</div>
                    <div class="timer-label">seconds</div>
                </div>

                <div class="question-container">
                    <h2 class="question" id="question">Ready to start?</h2>
                    <div class="input-container">
                        <input 
                            type="text" 
                            id="answer-input" 
                            class="answer-input" 
                            placeholder="Type your answer..."
                            autocomplete="off"
                        >
                        <button id="submit-btn" class="submit-btn">Submit</button>
                    </div>
                </div>

                <div class="feedback" id="feedback" aria-live="polite"></div>
            </section>

            <section class="start-section" id="start-section" style="display: none;">
                <div class="instructions">
                    <h2>How to Play</h2>
                    <ul>
                        <li>You'll get 10 questions mixing alphabet-to-number and number-to-alphabet conversions</li>
                        <li>Each question has a 10-second timer</li>
                        <li>Type your answer and press Enter or click Submit</li>
                        <li>Letters are case-insensitive (A=a)</li>
                        <li>Numbers should be between 1-26</li>
                    </ul>
                </div>
                <button id="start-btn" class="start-btn">Start Quiz</button>
            </section>

            <section class="results-section" id="results-section" style="display: none;">
                <h2>Quiz Complete!</h2>
                <div class="score-summary" id="score-summary"></div>
                <div class="detailed-results" id="detailed-results"></div>
                <button id="restart-btn" class="restart-btn">Play Again</button>
            </section>
        </main>

        <footer class="footer">
            <p>Convert letters to numbers (A=1, B=2, ..., Z=26) and vice versa!</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        // Initialize DOM elements
        initializeDOM();
        
        // Create UIManager instance for testing
        const uiManager = new UIManager();
        
        // Test functions
        function testDisplayQuestion() {
            const sampleQuestion = {
                id: 'test-1',
                type: 'alphabet-to-number',
                prompt: 'What number is the letter M?',
                correctAnswer: '13',
                displayValue: 'M'
            };
            
            uiManager.showSection('quiz');
            uiManager.displayQuestion(sampleQuestion, 5);
        }
        
        function testUpdateTimer() {
            let timeLeft = 10;
            const timerInterval = setInterval(() => {
                uiManager.updateTimer(timeLeft);
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(timerInterval);
                    uiManager.updateTimer(0);
                }
            }, 1000);
        }
        
        function testShowFeedback() {
            // Test correct feedback
            setTimeout(() => {
                uiManager.showFeedback(true, '13');
            }, 500);
            
            // Test incorrect feedback
            setTimeout(() => {
                uiManager.showFeedback(false, '13', '15');
            }, 3000);
            
            // Test timeout feedback
            setTimeout(() => {
                uiManager.showTimeoutFeedback('13');
            }, 6000);
        }
        
        function testShowResults() {
            const mockResults = {
                score: {
                    correct: 7,
                    incorrect: 2,
                    timeout: 1,
                    total: 10,
                    percentage: 70
                },
                performanceStats: {
                    averageTimePerQuestion: 6.2
                },
                detailedResults: [
                    {
                        questionNumber: 1,
                        questionText: 'What number is the letter A?',
                        correctAnswer: '1',
                        userAnswer: '1',
                        isCorrect: true,
                        timeUsed: 3,
                        timedOut: false,
                        status: 'correct'
                    },
                    {
                        questionNumber: 2,
                        questionText: 'What letter is number 15?',
                        correctAnswer: 'O',
                        userAnswer: 'P',
                        isCorrect: false,
                        timeUsed: 8,
                        timedOut: false,
                        status: 'incorrect'
                    },
                    {
                        questionNumber: 3,
                        questionText: 'What number is the letter Z?',
                        correctAnswer: '26',
                        userAnswer: '',
                        isCorrect: false,
                        timeUsed: 10,
                        timedOut: true,
                        status: 'timeout'
                    }
                ]
            };
            
            uiManager.renderResults(mockResults);
        }
        
        function testSectionSwitching() {
            // Test section switching
            setTimeout(() => uiManager.showSection('start'), 0);
            setTimeout(() => uiManager.showSection('quiz'), 2000);
            setTimeout(() => uiManager.showSection('results'), 4000);
            setTimeout(() => uiManager.showSection('start'), 6000);
        }
        
        // Start with quiz section visible for testing
        uiManager.showSection('quiz');
    </script>
</body>
</html>